import{H as k,r as p,K as M,i as z,a as i,c as u,d as t,w as d,q as w,l as a,j as m,k as h,v as V,b,L as B,g as U,s as q,G as C,O as N,C as K}from"./index.a0870418.js";import{c as r,r as g,m as L,e as D,u as S}from"./index.esm.e3a13e7c.js";const T=["onKeyup"],j={class:"mb-4 w-full"},A={key:0,class:"font-azeret text-alert"},E={class:"mb-4 w-full"},Z={key:0,class:"font-azeret text-alert"},G={class:"mb-8 w-full"},H={key:0,class:"font-azeret text-alert"},I={class:"mb-2 text-center text-alert"},O={class:"mb-4 w-full"},P=["disabled"],R=t("span",null,"\u8A3B\u518A",-1),F={class:"text-center"},J=K("\u767B\u5165"),Y={setup(Q){const _=k(),o=p({name:"",email:"",password:""}),x=M(()=>({name:{required:r.withMessage("\u66B1\u7A31\u5FC5\u586B",g),minLength:r.withMessage("\u66B1\u7A31\u81F3\u5C11 2 \u500B\u5B57\u5143\u4EE5\u4E0A",L(2))},email:{required:r.withMessage("email \u5FC5\u586B",g),email:r.withMessage("email \u683C\u5F0F\u932F\u8AA4",D)},password:{required:r.withMessage("\u5BC6\u78BC\u5FC5\u586B",g),alphaNum:r.withMessage("\u5BC6\u78BC\u9700\u81F3\u5C11 8 \u78BC\u4EE5\u4E0A\uFF0C\u4E26\u82F1\u6578\u6DF7\u5408",r.regex(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,/\d/))}})),s=S(x,o.value),n=p(!1),c=p("");function v(){o.value.email="",o.value.password="",n.value=!1}const f=async()=>{!await s.value.$validate()||(n.value=!0,N.signUp(o.value).then(e=>{v(),alert(e.data.message),_.push({name:"sign-in"})}).catch(e=>{c.value=e.message,v(),setTimeout(()=>{c.value=""},2e3)}))};return($,e)=>{const y=z("router-link");return i(),u("ul",{class:"w-full",onKeyup:q(C(f,["exact"]),["enter"])},[t("li",j,[d(t("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"text",placeholder:"\u66B1\u7A31","onUpdate:modelValue":e[0]||(e[0]=l=>o.value.name=l),onBlur:e[1]||(e[1]=(...l)=>a(s).name.$touch&&a(s).name.$touch(...l))},null,544),[[w,o.value.name]]),a(s).name.$errors.length>0?(i(),u("div",A,m(a(s).name.$errors[0].$message),1)):h("",!0)]),t("li",E,[d(t("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"email",placeholder:"Email","onUpdate:modelValue":e[2]||(e[2]=l=>o.value.email=l),onBlur:e[3]||(e[3]=(...l)=>a(s).email.$touch&&a(s).email.$touch(...l))},null,544),[[w,o.value.email]]),a(s).email.$errors.length>0?(i(),u("div",Z,m(a(s).email.$errors[0].$message),1)):h("",!0)]),t("li",G,[d(t("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"password",placeholder:"Password","onUpdate:modelValue":e[4]||(e[4]=l=>o.value.password=l),onBlur:e[5]||(e[5]=(...l)=>a(s).password.$touch&&a(s).password.$touch(...l))},null,544),[[w,o.value.password]]),a(s).password.$errors.length>0?(i(),u("div",H,m(a(s).password.$errors[0].$message),1)):h("",!0)]),t("li",I,[t("p",null,m(c.value),1)]),t("li",O,[t("button",{class:"flex w-full items-center justify-center rounded-lg border-2 border-black bg-primary py-2 text-lg text-white hover:bg-warning hover:text-black disabled:bg-disabled",onClick:f,disabled:n.value},[R,d(b(B,{class:"ml-1 h-4 w-4 animate-spin"},null,512),[[V,n.value]])],8,P)]),t("li",F,[b(y,{to:"sign-in"},{default:U(()=>[J]),_:1})])],40,T)}}};export{Y as default};
