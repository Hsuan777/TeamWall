import{_ as b}from"./CardTitle.19b9dc9f.js";import{P as h}from"./PostEmptyCard.1d341bb0.js";import{_ as d}from"./UserInfo.ce706bea.js";import{A as y,B as k,r as m,o as x,a as t,c as o,b as c,f,g as p,S as D,F as l,e as _,d as n,j as v}from"./index.5a0da958.js";const A=y.create({baseURL:`${k}/users/follows`,timeout:2e4}),L=()=>localStorage.getItem("metaWall")?{headers:{Authorization:localStorage.getItem("metaWall")}}:!1,N={getAll:()=>A.get("",L())},S={key:0,class:"animate-pulse"},B=n("div",{class:"text-sm"},"\u60A8\u5DF2\u8FFD\u8E64 ?? \u5929\uFF01",-1),C={key:0},F={class:"text-sm"},P=n("p",{class:"p-8 text-center text-subtitle"}," \u76EE\u524D\u5C1A\u7121\u8FFD\u8E64\u540D\u55AE\uFF0C\u8FFD\u8E64\u5176\u4ED6\u4EBA\u5427\uFF01 ",-1),U={setup(T){const r=m(!0),i=m([]);x(()=>{N.getAll().then(s=>{s.data.data&&(r.value=!1,i.value=s.data.data)}).catch(()=>{alert("\u8B80\u53D6\u8FFD\u8E64\u5217\u8868\u5931\u6557"),r.value=!1})});function g(s){const a=new Date(s);return a instanceof Date&&!isNaN(a)?a.toLocaleString():""}function w(s){const a=new Date(s);if(a instanceof Date&&!isNaN(a)){const e=a.getTime();return((Date.now()-e)/(1e3*60*60*24)).toFixed(0)}return""}return(s,a)=>(t(),o(l,null,[c(b,{title:"\u8FFD\u8E64\u540D\u55AE"}),(t(),f(D,null,{default:p(()=>[r.value?(t(),o("ul",S,[(t(),o(l,null,_(3,e=>n("li",{key:e,class:"mb-4 flex items-end justify-between rounded-lg border-2 border-black bg-white p-4 shadow-post"},[c(d),B])),64))])):(t(),o(l,{key:1},[i.value.length>0?(t(),o("ul",C,[(t(!0),o(l,null,_(i.value,(e,u)=>(t(),o("li",{key:u,class:"mb-4 flex items-end justify-between rounded-lg border-2 border-black bg-white p-4 shadow-post"},[c(d,{name:e.name,"img-url":e.avatar,"sub-title":g(e.followCreatedAt),"user-page-url":`/profile/${e.id}`},null,8,["name","img-url","sub-title","user-page-url"]),n("div",F," \u60A8\u5DF2\u8FFD\u8E64 "+v(w(e.followCreatedAt))+" \u5929\uFF01 ",1)]))),128))])):(t(),f(h,{key:1},{default:p(()=>[P]),_:1}))],64))]),_:1}))],64))}};export{U as default};
