import{r as u,D as p,a as b,c as m,b as v,d as e,w as l,p as f,k as _,v as h,E as g,F as w,B as r}from"./index.03b71b0b.js";import{_ as x}from"./CardTitle.8afdd698.js";import{a as k}from"./apiPost.2ce5a770.js";const y={class:"rounded-lg border-2 border-black bg-white p-8 shadow-post"},B=e("p",null,"\u8CBC\u6587\u5167\u5BB9",-1),C={class:"relative my-4 w-32 gap-y-8 rounded bg-black py-1 px-8 text-white"},D=e("span",null,"\u4E0A\u50B3\u5716\u7247",-1),F={class:"mb-6 h-40 w-full rounded-lg border-2 border-black"},H=["src"],N={class:"text-center"},P={class:"text-red_x -mt-2 mb-2 text-sm"},V=r(" \u5716\u7247\u6A94\u6848\u904E\u5927\uFF0C\u50C5\u9650 1mb \u4EE5\u4E0B\u6A94\u6848"),W=e("br",null,null,-1),M=r("\u5716\u7247\u683C\u5F0F\u932F\u8AA4\uFF0C\u50C5\u9650 JPG\u3001PNG \u5716\u7247 "),$=[V,W,M],T={setup(E){const n=u(""),a=p({isWarnHint:!1,preview:null,image:""}),i=s=>{var t=s.target;if(t.files){var o=new FileReader;o.onload=c=>{a.preview=c.target.result},console.log(t.files[0]),a.image=t.files[0],o.readAsDataURL(t.files[0])}},d=()=>{a.isWarnHint=!0,k.upload({content:n.value,updateImage:a.preview}).then(s=>{console.log(s)}).catch(s=>{console.log(s)})};return(s,t)=>(b(),m(w,null,[v(x,{title:"\u5F35\u8CBC\u52D5\u614B"}),e("div",y,[B,l(e("textarea",{name:"postContent",rows:"6",placeholder:"\u8F38\u5165\u60A8\u7684\u8CBC\u6587\u5167\u5BB9",class:"mt-1 w-full rounded-none border-2 px-4 py-3 focus:border-black focus:shadow-transparent",onFocus:t[0]||(t[0]=o=>s.isWarnHint=!1),"onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o)},null,544),[[f,n.value]]),e("div",C,[e("input",{ref:"inputDOM",type:"file",accept:"image/*",class:"absolute left-0 z-10 w-full cursor-pointer opacity-0",onChange:i},null,544),D]),e("div",F,[e("img",{src:_(a).preview,class:"h-full"},null,8,H)]),e("div",N,[l(e("div",P,$,512),[[h,s.isWarnHint]]),e("button",{class:"rounded-lg border-2 border-black bg-subtitle py-3 px-32 font-semibold hover:bg-warning hover:text-black hover:shadow-btn",onClick:t[2]||(t[2]=g(o=>d(),["prevent"]))}," \u9001\u51FA\u8CBC\u6587 ")])])],64))}};export{T as default};
